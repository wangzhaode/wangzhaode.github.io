---
layout: post
title:  "将文件转换为字节数组"
date:   2023-10-11
last_modified_at: 2023-10-11
categories: [linux]
---

在一些程序中可能需要将二进制文件转换成为字节数组，直接在代码中使用。比如图片资源，模型文件等，可以使用`xxd`程序转换。


```shell
xxd -i favicon.ico favicon.h
```

`favicon.h`内容如下：
```c
unsigned char favicon_ico[] = {
  0x00, 0x00, 0x01, 0x00, 0x01, 0x00, 0x40, 0x40, 0x00, 0x00, 0x01, 0x00,
  ...,
  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
  0xff, 0xff
};
unsigned int favicon_ico_len = 16958;
```